{% extends 'app.html' %}
{% block content %}

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<style>
    body {
        background: linear-gradient(135deg, #f0f4f8, #d9e2ec); /* Updated gradient */
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .login-card {
        max-width: 450px;
        margin: 60px auto;
        padding: 40px;
        background-color: #ffffff;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        animation: fadeIn 0.6s ease-in-out;
    }

    .login-card h2 {
        color: #343a40;
        margin-bottom: 30px;
    }

    .form-group i {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #6c757d;
    }

    .form-control {
        padding-left: 40px;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .form-label {
        font-weight: 600;
    }

    .btn-dark {
        width: 100%;
    }

    .text-danger {
        font-size: 0.9rem;
    }
</style>

<div class="login-card">
    <h2 class="text-center"><i class="bi bi-box-arrow-in-right me-2"></i>Login</h2>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="alert alert-danger">
        <ul class="mb-0">
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
    {% endwith %}

    <form action="/login" method="POST">
        {{ form.hidden_tag() }}

        <div class="form-group position-relative mb-4">
            <i class="bi bi-envelope-fill"></i>
            {{ form.email.label(class="form-label", for="email") }}
            {{ form.email(id="email", class="form-control") }}
            {% if form.email.errors %}
            <ul class="text-danger mt-1">
                {% for error in form.email.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>

        <div class="form-group position-relative mb-4">
            <i class="bi bi-lock-fill"></i>
            {{ form.password.label(class="form-label", for="password") }}
            {{ form.password(id="password", class="form-control") }}
            {% if form.password.errors %}
            <ul class="text-danger mt-1">
                {% for error in form.password.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>

        {{ form.submit(class="btn btn-dark mb-3") }}

        <a href="/register" class="btn btn-outline-secondary w-100 mb-3">
            <i class="bi bi-person-plus-fill me-1"></i> Register Page
        </a>

        <p class="text-center">
            <a href="{{ url_for('forgot_password') }}"><i class="bi bi-question-circle-fill me-1"></i>Forgot Password?</a>
        </p>
    </form>
</div>

{% endblock %}
